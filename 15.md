+++
date = "2015-10-03"
draft = false
weight = 15
title = "Lab 15 - All In One Lab"
+++

### Lab Objective ####
This is a project you can do after class, on your own, to hone your OpenStack skills. If you are successful, we would like to hear from you! Notice below that you will need access to a fairly powerful machine. Most people want to create their own OpenStack lab inside of a virutal machine that shows off all the subsystems. We think the AIO (All In One) from https://github.com/openstack/openstack-ansible  which is based on linux containers is a great choice for this environment. If you get this working, it will have far more utility than DevStack because the playbooks you will use are the sae ones you would edit to build a complete datacenter.  

# openstack


### This project provides a playbook to perform the following intallation on a Ubuntu 16.04 platform using 14.04 instructions:

|Environment|Keystone|Glance|Compute|Neutron|Dashboard|Cinder|Swift|Heat|Ceilometer|Test|
|---|---|---|---|---|---|---|---|---|---|---|
|[01](http://docs.openstack.org/mitaka/install-guide-ubuntu/environment.html)|[02](http://docs.openstack.org/mitaka/install-guide-ubuntu/keystone.html)|[03](http://docs.openstack.org/mitaka/install-guide-ubuntu/glance.html)|[04](http://docs.openstack.org/mitaka/install-guide-ubuntu/nova.html)|[05](http://docs.openstack.org/mitaka/install-guide-ubuntu/neutron.html)|[06](http://docs.openstack.org/mitaka/install-guide-ubuntu/horizon.html)|[07](http://docs.openstack.org/mitaka/install-guide-ubuntu/cinder.html)|[08](http://docs.openstack.org/mitaka/install-guide-ubuntu/swift.html)|[09](http://docs.openstack.org/mitaka/install-guide-ubuntu/heat.html)|[10](http://docs.openstack.org/mitaka/install-guide-ubuntu/ceilometer.html)|[11](http://docs.openstack.org/mitaka/install-guide-ubuntu/launch-instance.html)|




### 0. Ansible Setup: All nodes begin with ubuntu 16.04

1. set static IP address in /etc/network/interfaces as in this EXAMPLE (do not cut and paste!!!) 

    ```
    auto ens160
    iface ens160 inet static
    address a.b.c.d
    netmask 255.255.255.0
    gateway a.b.c.1
    dns-nameservers 192.168.201.80
    ```

2. Edit  `visudo` for ansible user ID (ender in my case)
     > Create a new user "ender" Assign a strong password as you will only use it ONCE anyhow.

       `sudo adduser ender`  

       `sudo visudo`  
    ```
    # at the very bottom of the file, add this:
    # --------- other stuff up here --------
    ender ALL=(ALL) NOPASSWD: ALL
    ```
3. On ender: `ssh 'ender@A.B.C.D`, enter the long password from step 2 and ender has passwordless sudo access to the new node.

4. Install python2.7 because Ubuntu 16.04 ships with python3.0 which ansible cannot handle right now
  
    `sudo apt-get install python2.7`

### 1. ENVIRONMENT: All nodes begin with ubuntu 16.04 Warning: Instructions are written for 14.04, so be careful.

|Environment|Keystone|Glance|Compute|Neutron|Dashboard|Cinder|Swift|Heat|Ceilometer|Test|
|---|---|---|---|---|---|---|---|---|---|---|
|[01](http://docs.openstack.org/mitaka/install-guide-ubuntu/environment.html)|[02](http://docs.openstack.org/mitaka/install-guide-ubuntu/keystone.html)|[03](http://docs.openstack.org/mitaka/install-guide-ubuntu/glance.html)|[04](http://docs.openstack.org/mitaka/install-guide-ubuntu/nova.html)|[05](http://docs.openstack.org/mitaka/install-guide-ubuntu/neutron.html)|[06](http://docs.openstack.org/mitaka/install-guide-ubuntu/horizon.html)|[07](http://docs.openstack.org/mitaka/install-guide-ubuntu/cinder.html)|[08](http://docs.openstack.org/mitaka/install-guide-ubuntu/swift.html)|[09](http://docs.openstack.org/mitaka/install-guide-ubuntu/heat.html)|[10](http://docs.openstack.org/mitaka/install-guide-ubuntu/ceilometer.html)|[11](http://docs.openstack.org/mitaka/install-guide-ubuntu/launch-instance.html)|

  - Security - No changes
  - Host networking management: 10.3.0.0/22 
  - Host networking Provider: 10.3.4.0/22
  - Network Time Protocol: use chrony
  - OpenStack packages; SKIP THIS , not necessay with 16.04 version
  - SQL database - Install as written
  - NoSQL database - Install as written
  - Message queue - Install as written
  - Memcached - Install as written




### 2. KEYSTONE(Indentity Service): 

|Environment|Keystone|Glance|Compute|Neutron|Dashboard|Cinder|Swift|Heat|Ceilometer|Test|
|---|---|---|---|---|---|---|---|---|---|---|
|[01](http://docs.openstack.org/mitaka/install-guide-ubuntu/environment.html)|[02](http://docs.openstack.org/mitaka/install-guide-ubuntu/keystone.html)|[03](http://docs.openstack.org/mitaka/install-guide-ubuntu/glance.html)|[04](http://docs.openstack.org/mitaka/install-guide-ubuntu/nova.html)|[05](http://docs.openstack.org/mitaka/install-guide-ubuntu/neutron.html)|[06](http://docs.openstack.org/mitaka/install-guide-ubuntu/horizon.html)|[07](http://docs.openstack.org/mitaka/install-guide-ubuntu/cinder.html)|[08](http://docs.openstack.org/mitaka/install-guide-ubuntu/swift.html)|[09](http://docs.openstack.org/mitaka/install-guide-ubuntu/heat.html)|[10](http://docs.openstack.org/mitaka/install-guide-ubuntu/ceilometer.html)|[11](http://docs.openstack.org/mitaka/install-guide-ubuntu/launch-instance.html)|


  - Install apache and mysql databases as described
  - Create the service entity and API endpoints - **OK**
  - Create a domain, projects, users, and roles - **OK for NOW**
  - Verify operation - - **OK**
  - Create OpenStack client environment scripts - **OK**


### 3. GLANCE(Image Service): 

|Environment|Keystone|Glance|Compute|Neutron|Dashboard|Cinder|Swift|Heat|Ceilometer|Test|
|---|---|---|---|---|---|---|---|---|---|---|
|[01](http://docs.openstack.org/mitaka/install-guide-ubuntu/environment.html)|[02](http://docs.openstack.org/mitaka/install-guide-ubuntu/keystone.html)|[03](http://docs.openstack.org/mitaka/install-guide-ubuntu/glance.html)|[04](http://docs.openstack.org/mitaka/install-guide-ubuntu/nova.html)|[05](http://docs.openstack.org/mitaka/install-guide-ubuntu/neutron.html)|[06](http://docs.openstack.org/mitaka/install-guide-ubuntu/horizon.html)|[07](http://docs.openstack.org/mitaka/install-guide-ubuntu/cinder.html)|[08](http://docs.openstack.org/mitaka/install-guide-ubuntu/swift.html)|[09](http://docs.openstack.org/mitaka/install-guide-ubuntu/heat.html)|[10](http://docs.openstack.org/mitaka/install-guide-ubuntu/ceilometer.html)|[11](http://docs.openstack.org/mitaka/install-guide-ubuntu/launch-instance.html)|